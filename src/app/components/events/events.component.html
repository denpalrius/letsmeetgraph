<h3>Schedule an event</h3>

<div>
  <form [formGroup]="newEmailForm" novalidate (ngSubmit)="onSubmit()">
    <div fxLayout="row" fxLayoutAlign="space-between stretch">
      <mat-form-field class="field-margin">
        <input matInput placeholder="Subject" formControlName="subject">
      </mat-form-field>

    </div>
    <div>
      <mat-form-field class="field-margin">
        <textarea matInput placeholder="Event details" formControlName="content"></textarea>
      </mat-form-field>
    </div>

    <br>
    <button type="submit" mat-raised-button color="primary" [disabled]="recepients?.length < 1 || !newEmailForm.valid">
      <span> Schedule Event</span>
    </button>
    <br>
  </form>

</div>

<div>
  <br>
  <br>

  <strong>External attendees</strong>
  <form [formGroup]="newRecepientForm" novalidate>
    <div></div>
    <mat-form-field class="field-margin">
      <input matInput placeholder="Name" formControlName="name">
    </mat-form-field>
    <mat-form-field class="field-margin">
      <input matInput placeholder="Email" type="email" email="true" formControlName="email">
    </mat-form-field>

    <button type="button" mat-stroked-button color="primary" (click)="onSubmitRecepient()">
      <mat-icon>add</mat-icon>
      <span>Add Recepient</span>
    </button>

  </form>


  <mat-list>
    <mat-list-item *ngFor="let recepient of recepients">
      <mat-icon mat-list-icon>person_outline</mat-icon>
      <h3 matLine> {{recepient.name}} </h3>
      <p matLine>
        <span> {{recepient.email}} </span>
      </p>
      <button (click)="removeRecepient(recepient)" mat-icon-button>
        <mat-icon>delete_outline</mat-icon>
      </button>
    </mat-list-item>
  </mat-list>
</div>
